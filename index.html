<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Lost Artifact - Level Selection</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #e67e22;
            --bg: #ecf0f1;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background: var(--bg);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        #game-container {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            width: 90%;
            max-width: 450px;
            text-align: center;
        }

        .hidden { display: none; }

        input {
            padding: 12px;
            width: 80%;
            margin: 15px 0;
            border: 2px solid #bdc3c7;
            border-radius: 8px;
        }

        .btn {
            padding: 12px 25px;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px;
            width: 80%;
            display: inline-block;
        }

        .btn-start { background: var(--accent); }
        .btn-easy { background: #27ae60; }
        .btn-medium { background: #f1c40f; color: #333; }
        .btn-hard { background: #e74c3c; }

        .stats-bar {
            display: flex;
            justify-content: space-between;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        /* Animasi */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        .shake { animation: shake 0.4s; }
    </style>
</head>
<body>

<div id="game-container">
    <div id="screen-name">
        <h1>üè∫ Lost Artifact</h1>
        <p>Nama Arkeolog:</p>
        <input type="text" id="player-name" placeholder="Ketik namamu...">
        <button class="btn btn-start" onclick="goToMenu()">LANJUT</button>
    </div>

    <div id="screen-menu" class="hidden">
        <h2>Pilih Tingkat Kesulitan</h2>
        <p>Halo, <span id="hello-name"></span>!</p>
        <button class="btn btn-easy" onclick="selectLevel(0)">MUDAH (45 Detik)</button>
        <button class="btn btn-medium" onclick="selectLevel(1)">SEDANG (30 Detik)</button>
        <button class="btn btn-hard" onclick="selectLevel(2)">SULIT (15 Detik)</button>
    </div>

    <div id="screen-game" class="hidden">
        <div class="stats-bar">
            <span id="display-lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span>
            <span id="display-timer" style="color:#e74c3c; font-weight:bold;">30s</span>
            <span id="display-score">0</span>
        </div>
        <p id="question-text" style="font-size: 1.2em; min-height: 50px;"></p>
        <input type="text" id="answer-input" autocomplete="off">
        <br>
        <button class="btn btn-start" style="width:auto" onclick="checkAnswer()">KIRIM</button>
        <button id="btn-hint" class="btn" style="width:auto; background:#3498db" onclick="useHint()">HINT (-50)</button>
        <p id="hint-display" style="font-size: 0.8em; color: #7f8c8d;"></p>
    </div>

    <div id="screen-end" class="hidden">
        <h1 id="end-title">Selesai!</h1>
        <p>Skor Akhir Kamu:</p>
        <h2 id="final-score" style="font-size: 3em; color: var(--accent);">0</h2>
        <button class="btn btn-start" onclick="location.reload()">MAIN LAGI</button>
    </div>
</div>

<script>
    const allQuestions = [
        // Level Mudah
        [{q: "Aku punya banyak kunci tapi tak bisa buka pintu?", a: "piano", h: "Alat musik tuts"},
         {q: "Apa yang bisa pecah tanpa disentuh?", a: "janji", h: "Terkait ucapan"},
         {q: "Selalu di depan tapi tak terlihat?", a: "masa depan", h: "Waktu nanti"},
         {q: "Punya kota tapi tak ada rumah?", a: "peta", h: "Kertas navigasi"},
         {q: "Bisa memenuhi ruangan tapi tak makan tempat?", a: "cahaya", h: "Lawan gelap"}],
        // Level Sedang
        [{q: "3, 6, 12, 24, ...?", a: "48", h: "x2"},
         {q: "Jika 1=5, 2=25, 3=125, maka 5=?", a: "1", h: "Cek baris pertama"},
         {q: "Angka ganjil jadi genap kalau 'S' dibuang (B.Inggris)?", a: "seven", h: "7"},
         {q: "Berapa angka 9 muncul dari 1-100?", a: "20", h: "Cek 90-99"},
         {q: "Jam bunyi 3x dlm 3 detik, berapa x dlm 9 detik?", a: "9", h: "Konsisten"}],
        // Level Sulit
        [{q: "Pintu mana yang aman: Pintu Api atau Singa lapar 3 tahun?", a: "singa", h: "Singa mati"},
         {q: "Salip orang di posisi kedua, kamu posisi berapa?", a: "kedua", h: "Bukan ke-1"},
         {q: "Anak ke-5 Ayah Mary: Nana, Nene, Nini, Nono, ...?", a: "mary", h: "Nama ayahnya"},
         {q: "Air membeku jadi jalan, terjadi di musim?", a: "dingin", h: "Salju"},
         {q: "Aku tinggi saat muda, pendek saat tua, dan bercahaya?", a: "lilin", h: "Terbakar"}]
    ];

    let playerName = "", selectedLvl = 0, currentQ = 0, score = 0, lives = 3, timer, timeLeft = 0;

    function goToMenu() {
        playerName = document.getElementById('player-name').value;
        if(!playerName) return alert("Masukkan namamu!");
        document.getElementById('hello-name').innerText = playerName;
        document.getElementById('screen-name').classList.add('hidden');
        document.getElementById('screen-menu').classList.remove('hidden');
    }

    function selectLevel(lvl) {
        selectedLvl = lvl;
        document.getElementById('screen-menu').classList.add('hidden');
        document.getElementById('screen-game').classList.remove('hidden');
        
        // Atur fitur berdasarkan level
        if(lvl === 2) document.getElementById('btn-hint').classList.add('hidden');
        
        loadQuestion();
    }

    function loadQuestion() {
        clearInterval(timer);
        const timers = [45, 30, 15];
        timeLeft = timers[selectedLvl];
        
        document.getElementById('display-timer').innerText = timeLeft + "s";
        document.getElementById('question-text').innerText = allQuestions[selectedLvl][currentQ].q;
        document.getElementById('answer-input').value = "";
        document.getElementById('hint-display').innerText = "";
        
        timer = setInterval(() => {
            timeLeft--;
            document.getElementById('display-timer').innerText = timeLeft + "s";
            if(timeLeft <= 0) { handleWrong(); nextQ(); }
        }, 1000);
    }

    function checkAnswer() {
        const ans = document.getElementById('answer-input').value.toLowerCase().trim();
        const correct = allQuestions[selectedLvl][currentQ].a;
        
        if(ans === correct) {
            const multiplier = [1, 1.5, 2];
            score += Math.round((100 + timeLeft) * multiplier[selectedLvl]);
            document.getElementById('display-score').innerText = score;
            nextQ();
        } else {
            handleWrong();
        }
    }

    function handleWrong() {
        lives--;
        document.getElementById('game-container').classList.add('shake');
        setTimeout(() => document.getElementById('game-container').classList.remove('shake'), 400);
        document.getElementById('display-lives').innerText = "‚ù§Ô∏è".repeat(lives) || "üíÄ";
        if(lives <= 0) endGame();
    }

    function nextQ() {
        currentQ++;
        if(currentQ >= 5) endGame();
        else loadQuestion();
    }

    function useHint() {
        score -= 50;
        document.getElementById('display-score').innerText = score;
        document.getElementById('hint-display').innerText = "Hint: " + allQuestions[selectedLvl][currentQ].h;
    }

    function endGame() {
        clearInterval(timer);
        document.getElementById('screen-game').classList.add('hidden');
        document.getElementById('screen-end').classList.remove('hidden');
        document.getElementById('final-score').innerText = score;
        if(lives <= 0) document.getElementById('end-title').innerText = "Gagal (Mati)";
    }
</script>
</body>
</html>
